<!DOCTYPE html>
<html lang="en">

<head>
    <title>Goling</title>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="GOLING (Go Healing)" />
    <meta name="keywords" content="goling team" />
    <!-- Icon -->
    <link rel="icon" href="./images/goling.ico" />
    <!-- Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet" />
    <!-- Symbols -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">
    <style>
    </style>
</head>

<body>
    <!-- Skip-Link -->
    <a href="#mainContent" class="skip-link">To the Content</a>
    <!-- Header -->
    <header style="background-color: white;">
        <div id="navbarId" class="navbar">
            <div class="headerInner">
                <h1 class="headerTitle">
                    Goling
                </h1>
                <ul class="navigationResponsive">
                    <li>
                        <button id="navigationDrawerId" class="navigationDrawer"
                            aria-label="Open navigation drawer">☰</button>
                    </li>
                </ul>
            </div>
            <nav id="navbarContainerId" class="navbarContainer">
                <ul class="navbarList">
                  <li class="navbarItem"><a href="./index.html">Home</a></li>
                  <li class="navbarItem"><a href="./index.html#destinations">Tentang Kami</a></li>
                  <li class="navbarItem dropdown">
                    <a href="./complaints.html" class="dropdown-toggle">Complaints</a>
                    <ul class="dropdown-menu">
                      <li><a href="./callcenter.html">Call Center</a></li>
                      <li><a href="./contact-section.html">Contact</a></li>
                    </ul>
                  </li>
                  <li class="navbarItem"><button id="myBooking">Booking</button></li>
                </ul>
              </nav>
        </div>
        <div class="hero" id="hero" style="border-radius: 0px 0px 130.5px 0px;">
            <div class="heroContainer">
                <h1 class="heroTitle" id="heroTitle"></h1>
                <p class="heroDescription" id="heroDescription">Tour yang bisa anda temukan di Goling</p>
            </div>
        </div>
    </header>
    <!-- Main Content -->
    <!-- Services -->
    <section class="container" id="mainContent" style="border-radius: 130.5px 0px 0px 0px;">
        <div class="carouselItem" id="carouselImage">
            <i class="fa fa-chevron-left scroll-icon scroll-left"></i>
            <i class="fa fa-chevron-right scroll-icon scroll-right"></i>
        </div>
        <div class="detail">
            <h1 id="detailTitle"></h1>
            <p id="detailDescription"></p>
        </div>
        <div class="booking">
            <div class="ticket-title">
                <h1>Tiket</h1>
            </div>
            <div class="ticket-card">
                <div class="orang">
                    <h1>Dewasa</h1>
                </div>
                <div class="ticket-qty">
                    <div class="ticket-price">
                        <h1><span>RP 35.000</span> / Orang</h1>
                    </div>
                    <div class="ticket-qtynumber">
                        <p id="dewasa-minus">
                            <svg width="40" height="40" viewBox="0 0 40 40" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <circle cx="20" cy="20" r="19.75" stroke="black" stroke-width="0.5" />
                                <path d="M24.3586 18.28V20.128H14.7826V18.28H24.3586Z" fill="black" />
                            </svg>
                        </p>
                        <h1 id="dewasaValue">0</h1>
                        <p id="dewasa-plus">
                            <svg width="40" height="40" viewBox="0 0 40 40" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <circle cx="20" cy="20" r="19.75" stroke="black" stroke-width="0.5" />
                                <path
                                    d="M25.6366 20.152H20.5246V25.336H18.4846V20.152H13.3966V18.304H18.4846V13.096H20.5246V18.304H25.6366V20.152Z"
                                    fill="black" />
                            </svg>
                        </p>
                    </div>
                </div>
            </div>
            <div class="ticket-card">
                <div class="orang">
                    <h1>Anak</h1>
                </div>
                <div class="ticket-qty">
                    <div class="ticket-price">
                        <h1><span>RP 30.000</span> / Orang</h1>
                    </div>
                    <div class="ticket-qtynumber">
                        <p id="anak-minus">
                            <svg width="40" height="40" viewBox="0 0 40 40" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <circle cx="20" cy="20" r="19.75" stroke="black" stroke-width="0.5" />
                                <path d="M24.3586 18.28V20.128H14.7826V18.28H24.3586Z" fill="black" />
                            </svg>
                        </p>
                        <h1 id="anakValue">0</h1>
                        <p id="anak-plus">
                            <svg width="40" height="40" viewBox="0 0 40 40" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <circle cx="20" cy="20" r="19.75" stroke="black" stroke-width="0.5" />
                                <path
                                    d="M25.6366 20.152H20.5246V25.336H18.4846V20.152H13.3966V18.304H18.4846V13.096H20.5246V18.304H25.6366V20.152Z"
                                    fill="black" />
                            </svg>
                        </p>
                    </div>
                </div>
            </div>
            <div class="booking-button">
                <button id="submit">Booking</button>
            </div>
        </div>
    </section>

    <!-- Wave on Footer -->
    <section class="wave">
        <div class="air air1"></div>
        <div class="air air2"></div>
        <div class="air air3"></div>
        <div class="air air4"></div>
      </section>

    <!-- Footer -->
    <footer id="contact">
        <div class="foot">
          <div class="footer-content">
            <div class="footlinks">
              <h4>Top Destination</h4>
              <ul>
                <li class="top">Denpasar, Bali</li>
                <li class="top">Cimahi, Jawa Barat</li>
                <li class="top">Bandung, Jawa Barat</li>
                <li class="top">Medan, Sumatera</li>
                <li class="top">Jakarta Selatan, Jakarta</li>
              </ul>
            </div>
  
            <div class="footlinks">
              <h4>Quick Links</h4>
              <ul>
                <li><a href="./index.html">Home</a></li>
                <li><a href="./index.html#destinations">Destination</a></li>
                <li><a href="./index.html#contact">Contact</a></li>
                <li><a href="./about.html">About Us</a></li>
                <li><a href="https://forms.gle/Nzrm56hTmn1uAxLc9">Add Destination</a></li>
              </ul>
            </div>
  
            <div class="footlinks">
              <h4>Contact</h4>
              <ul>
                <li class="contact-item">
                  <a href="#" class="contact-link">Admin : +62 111-222-333</a>
                </li>
                <li class="contact-item">
                  <a href="#" class="contact-link">Email : goling@gmail.com</a>
                </li>
                <li class="contact-item">
                  <address>Bandung, Jawa Barat</address>
                </li>
              </ul>
            </div>
  
            <div class="footlinks">
              <h4>Social Media</h4>
              <div class="social">
                <a href="#" target="_blank"><i class="bx bxl-whatsapp"></i></a>
                <a href="#" target="_blank"><i class="bx bxl-facebook"></i></a>
                <a href="#" target="_blank"><i class="bx bxl-instagram"></i></a>
                <a href="#" target="_blank"><i class="bx bxl-twitter"></i></a>
                <a href="#" target="_blank"><i class="bx bxl-youtube"></i></a>
              </div>
            </div>
          </div>
        </div>
  
        <div class="end">
          <p>GOLING © 2024 All Rights Reserved</p>
        </div>
      </footer>
    <script>
        var apiUrl = '';
        if (window.location.hostname === 'localhost') {
            apiUrl = 'http://localhost:8001';
        } else {
            apiUrl = 'https://api.goling.site';
        }
        document.addEventListener('DOMContentLoaded', () => {
            async function GetData(id) {
                try {
                    const response = await fetch(`${apiUrl}/destinations/${id}`);
                    const data = await response.json();
                    return data;
                } catch (error) {
                    console.error('Error fetching data:', error);
                }
            }

            const id = new URLSearchParams(window.location.search).get('id');
            if (id) {
                GetData(id).then(data => {
                    if (data) {
                        // Update hero section
                        const hero = document.getElementById('hero');
                        hero.style.backgroundImage = `url('${data.hero_image}')`;

                        // Update detail section
                        document.getElementById('heroTitle').textContent = data.name;
                        document.getElementById('detailTitle').textContent = data.name;
                        document.getElementById('detailDescription').innerHTML = data.description;

                        // Update carousel images
                        const carouselImage = document.getElementById('carouselImage');
                        data.imageUrls.forEach(image => {
                            const imgElement = document.createElement('img');
                            imgElement.src = image.image_url;
                            imgElement.alt = data.name;
                            carouselImage.insertBefore(imgElement, carouselImage.querySelector('.scroll-right'));
                        });
                    }
                });
            } else {
                console.error('No ID found in the URL');
            }

            document.querySelector('.scroll-left').addEventListener('click', function () {
                scrollCarousel(-300);
            });

            document.querySelector('.scroll-right').addEventListener('click', function () {
                scrollCarousel(300);
            });

            function scrollCarousel(offset) {
                const container = document.querySelector('.carouselItem');
                const currentScroll = container.scrollLeft;
                container.scrollTo({
                    left: currentScroll + offset,
                    behavior: 'smooth'
                });
            }

            var dewasaPlus = document.getElementById('dewasa-plus');
            var dewasaMinus = document.getElementById('dewasa-minus');
            var dewasaValue = document.getElementById('dewasaValue');
            var anakPlus = document.getElementById('anak-plus');
            var anakMinus = document.getElementById('anak-minus');
            var anakValue = document.getElementById('anakValue');

            dewasaPlus.addEventListener('click', function () {
                dewasaValue.innerText = parseInt(dewasaValue.innerText) + 1;
            });

            dewasaMinus.addEventListener('click', function () {
                if (parseInt(dewasaValue.innerText) > 0) {
                    dewasaValue.innerText = parseInt(dewasaValue.innerText) - 1;
                }
            });

            anakPlus.addEventListener('click', function () {
                anakValue.innerText = parseInt(anakValue.innerText) + 1;
            });

            anakMinus.addEventListener('click', function () {
                if (parseInt(anakValue.innerText) > 0) {
                    anakValue.innerText = parseInt(anakValue.innerText) - 1;
                }
            });
            window.addEventListener('load', function () {
                document.getElementById('submit').addEventListener('click', function () {
                    window.location.href = './booking.html?id=' + id + '&dewasa=' + dewasaValue.innerText + '&anak=' + anakValue.innerText;
                });
            });  
        });
    </script>
</body>

</html>